<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>

        function GetDados() {

            var nome = document.formDados.nome.value;
            var name = document.getElementById("name").value;

            var idade = document.formDados.idade.value;
            var age = document.getElementById("age").value;

            console.log("Nome: " + nome);
            console.log("Name: " + name);
            console.log("Idade: " + idade);
            console.log("Age: " + age);

            alert("Nome: " + nome + "\nIdade: " + idade);

            //document.formDados.idade.value = 99;
            //document.formDados.nome.value = "Gandalf";

            //document.formDados.reset();
            
            //document.formDados.nome.focus();

            const dados = {
                nomePessoa: nome,
                idadePessoa: idade,
                habilitado: true,
                name,
                age,
                endereco: {
                    rua: "Rua 36",
                    numero: 115,
                    bairro: "Loanda",
                    cidade: "João Monlevade",
                    UF: "MG",
                    CEP: 35931008
                }
            }

            console.log(dados);
            console.log(dados.endereco.CEP);



        }

        async function GetDadosViaCEP(cep) {

            try {
                // Fazendo uma requisição à API do ViaCEP
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                if (!response.ok) {
                    throw new Error("Erro ao acessar a API");
                }

                const enderecoAPI = await response.json();
                console.log("Dados do CEP:", enderecoAPI);

                // Atualizando o objeto com os dados do endereço
                // dados.endereco = {
                //     rua: enderecoAPI.logradouro,
                //     bairro: enderecoAPI.bairro,
                //     cidade: enderecoAPI.localidade,
                //     UF: enderecoAPI.uf,
                //     CEP: enderecoAPI.cep
                // };

                //console.log(dados);

            } catch (error) {
                console.error("Erro ao buscar os dados do CEP:", error);
                alert("Não foi possível buscar os dados do endereço.");
            }

        }

    </script>


</head>
<body>
    <header style="display: flex; justify-content: center; align-items: center;">

        <div class="flex flex-row gap-4">
    
            <a href="./index.html">Home</a>
            <a href="./HTML/pessoas.html">Cadastro</a>
            <a href="./sobre.html">Sobre</a>
            <a href="./contato.html">Contato</a>
            <a href="./tailwind.html">Tailwind Page</a>
            <a href="./javascriptintro.html">JavaScript Intro</a>
            <a href="https://ufop.br" target="_blank">UFOP</a>
            <a href="https://moodlepresencial.ufop.br/login/index.php" target="_blank">Moodle</a>
            
        </div>
    
    </header>

    <br>
    <br>

    <div class="text-center" style="display: flex; justify-content: center; align-items: center;">
        <h1>Introdução ao JavaScript</h1>
    </div>
    
    <br>
    <br>

    <div id="data" style="display: flex; justify-content: center; align-items: center;">
        <!-- Data será exibida aqui -->

    </div>

    <br>
    <br>

    <div style="display: flex; justify-content: center; align-items: center;">
        <script>

            document.write("Hello World!");
            console.log("Hello There!");
            console.log("Pagina Carregada");

            document.getElementById("data").innerHTML = new Date().toUTCString();

        </script>    
    </div>
    
    

    <br>
    <br>

    <div class="flex justify-center items-center">
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-2 mr-2"> 
            Search
        </button>

        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-2 mr-2"> 
            Cancel
        </button>

        <!-- Warning button -->
        <button class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded ml-2 mr-2"> 
            Warning
        </button>

        <!-- Danger button -->
        <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2 mr-2"> 
            Danger
        </button>

    </div>

    <br>
    <br>

    <form action="#" method="get" name="formDados" id="formDados" class="flex flex-col md:flex-row justify-center items-center gap-4 p-6 bg-gray-100 rounded-lg shadow-lg max-w-2xl mx-auto">
        <input 
            type="text" 
            name="nome" 
            id="name" 
            placeholder="Digite seu nome" 
            class="bg-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500 text-gray-800 font-medium py-2 px-4 rounded-lg w-full md:w-auto transition duration-300"
        />
        <input 
            type="text" 
            name="idade" 
            id="age" 
            placeholder="Digite sua idade" 
            class="bg-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500 text-gray-800 font-medium py-2 px-4 rounded-lg w-full md:w-auto transition duration-300"
        />
        <button 
            type="button" 
            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 shadow-lg hover:shadow-xl"
            onclick="GetDados()">
          Enviar
        </button>
    </form>

    <br>
    <br>

    <form action="#" method="get" name="formDadosCEP" id="formDadosCEP" class="flex flex-col md:flex-row justify-center items-center gap-4 p-6 bg-gray-100 rounded-lg shadow-lg max-w-max mx-auto">
        <input 
            type="text" 
            name="cep" 
            id="cep" 
            placeholder="Digite o CEP" 
            class="bg-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500 text-gray-800 font-medium py-2 px-4 rounded-lg w-full md:w-auto transition duration-300"
        />
        <button 
            type="button" 
            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 shadow-lg hover:shadow-xl"
            onclick="GetDadosViaCEP(document.formDadosCEP.cep.value)">
          Enviar
        </button>
    </form>
      

    <footer style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; border-top: 1px solid #ccc; position: fixed; bottom: 0; width: 100%; background-color: #f8f9fa;">
        <p style="margin: 0; text-align: center; flex: 1;">&copy; <script>document.write(new Date().getFullYear());</script> - Luccas Corp - Static Web App</p>
        <div id="imagem" style="display: flex; justify-content: center; align-items: center;">
            <img 
                src="./img/logo-decsi.png" 
                alt="Apresenta a logomarca do Departamento de Computação e Sistemas"
                style="width: 15%;" 
            >
        </div>
        <p style="margin: 0; text-align: center; flex: 1;">Sistemas Web 1 CSI606</p>
    </footer>

</body>
</html>